{"ast":null,"code":"import _regeneratorRuntime from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/user1/Desktop/linkedin_data_proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/user1/Desktop/linkedin_data_proj/client/src/components/pages/LoginPage.js\";\nimport React from \"react\";\nimport { Grid, Row, Col, Image, Button } from \"react-bootstrap\";\nimport { Redirect } from \"react-router\";\nimport history from './history';\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      authenticated: false\n    };\n\n    _this.authentication = function () {\n      _this.authenticate().then(function (res) {\n        _this.checkAuthenticated().then(function (res1) {}).catch(function (err1) {\n          return console.log(err1);\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.authenticate =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('/api/authenticate', {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              body = _context.sent;\n              return _context.abrupt(\"return\", body);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.checkAuthenticated =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response, body;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch('/api/check_auth', {\n                method: 'GET',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 2:\n              response = _context2.sent;\n              _context2.next = 5;\n              return response.json();\n\n            case 5:\n              body = _context2.sent;\n              console.log(body.auth); // if (body.auth == 'True') {\n              //     this.setState({ authenticated: true });\n              // }\n\n              return _context2.abrupt(\"return\", body);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"render\",\n    value: function render() {\n      // if (this.state.authenticated) {\n      //     return <Redirect to='/register' push/>\n      // }\n      return React.createElement(\"div\", {\n        className: \"App black full-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"App-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"LinkedIn Autoconnect\")), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"show-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 6,\n        md: 4.5,\n        sm: 4,\n        xs: 3,\n        className: \"col-centered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.linkedInLogo)), React.createElement(Row, {\n        className: \"show-grid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.loginButton)));\n    }\n  }, {\n    key: \"linkedInLogo\",\n    get: function get() {\n      return React.createElement(Image, {\n        className: \"padding-50\",\n        src: \"./linkedin_logo.png\",\n        rounded: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"loginButton\",\n    get: function get() {\n      return React.createElement(Button, {\n        className: \"blue\",\n        onClick: this.authentication,\n        bsSize: \"large\",\n        block: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Sign In With LinkedIn\");\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nexport { LoginPage as default };","map":{"version":3,"sources":["/Users/user1/Desktop/linkedin_data_proj/client/src/components/pages/LoginPage.js"],"names":["React","Grid","Row","Col","Image","Button","Redirect","history","LoginPage","state","authenticated","authentication","authenticate","then","res","checkAuthenticated","res1","catch","err1","console","log","err","fetch","method","headers","response","json","body","auth","linkedInLogo","loginButton","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Grid, Row, Col, Image, Button} from \"react-bootstrap\";\nimport { Redirect } from \"react-router\";\nimport history from './history';\n\nexport default class LoginPage extends React.Component {\n\n    state = {\n        authenticated: false,\n    }\n\n    authentication = () => {\n        this.authenticate()\n                .then(res => {\n                    this.checkAuthenticated()\n                        .then(res1 => {\n                        })\n                        .catch(err1 => console.log(err1));\n                })\n                .catch(err => console.log(err));\n    }\n\n    authenticate = async () => {\n        const response = await fetch('/api/authenticate', {\n            method: 'GET',\n            headers: {'Content-Type': 'application/json'},\n        })\n        const body = await response.json();\n        return body;\n    };\n\n    checkAuthenticated = async () => {\n        const response = await fetch('/api/check_auth', {\n            method: 'GET',\n            headers: {'Content-Type': 'application/json'},\n        })\n        const body = await response.json();\n        console.log(body.auth)\n        // if (body.auth == 'True') {\n        //     this.setState({ authenticated: true });\n        // }\n        return body;\n    };\n\n    get linkedInLogo() {\n        return <Image className=\"padding-50\" src=\"./linkedin_logo.png\" rounded />\n    }\n\n    get loginButton () {\n        return <Button className=\"blue\" onClick={this.authentication} bsSize=\"large\" block>\n                Sign In With LinkedIn\n            </Button>\n    }\n    \n    render() {\n        // if (this.state.authenticated) {\n        //     return <Redirect to='/register' push/>\n        // }\n\n        return (\n            <div className=\"App black full-page\">\n                <header className=\"App-header\">\n                    <h1 className=\"App-title\">LinkedIn Autoconnect</h1>\n                </header>\n                <Grid >\n                    <Row className=\"show-grid\">\n                        <Col lg={6} md={4.5} sm={4} xs={3} className=\"col-centered\">\n                            {this.linkedInLogo}\n                        </Col>\n                    </Row>\n                    <Row className=\"show-grid\">\n                        {this.loginButton}\n                    </Row>\n                </Grid>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}